{"version":3,"sources":["components/announcement-details/index.js","components/announcement-details/announcement-details.js","components/search-panel/index.js","components/search-panel/search-panel.js","components/announcement-add-form/index.js","components/announcement-add-form/announcement-add-form.js","components/announcement-list/index.js","components/announcement-list/announcement-list.js","App.js","index.js"],"names":["AnnouncementDetails","announcement","similar","onDeleted","onEdited","useState","opened","setOpened","edit","setEdit","title","description","values","setValues","handleChange","prop","event","target","value","onSubmit","e","preventDefault","id","date","className","onClick","type","Fragment","map","item","onChange","placeholder","SearchPanel","onSearchChange","searchString","setSearchString","AnnouncementAddForm","onAnnouncementAdded","uuidv4","Date","toUTCString","AnnouncementList","announcements","onAnnouncementDeleted","idx","findIndex","slice","onAnnouncementEdited","editedAnnouncement","visibleAnnouncements","filter","toLowerCase","indexOf","search","getSimilar","find","split","some","w","ww","length","newSearchString","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.09bb24a0.chunk.js","sourcesContent":["import AnnouncementDetails from './announcement-details';\r\n\r\nexport default AnnouncementDetails;","import React, { useState} from 'react';\r\n\r\nimport './announcement-details.scss';\r\n\r\nconst AnnouncementDetails = ({announcement, similar, onDeleted, onEdited}) => {\r\n    const[opened, setOpened] = useState(false);\r\n    const[edit, setEdit] = useState(false);\r\n    const[values,setValues] = useState({\r\n        title: '',\r\n        description: ''\r\n    });\r\n\r\n    const showDetails = () => {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"announcement-field\">\r\n                    <span>Description:</span>\r\n                    <span>{announcement.description}</span>\r\n                </div>\r\n                <div className=\"announcement-field\">\r\n                    <span>Date:</span>\r\n                    <span className=\"date-field\">{announcement.date}</span>\r\n                </div>\r\n                <div className=\"see-also border-top border-info\">\r\n                    <span className=\"see-also\">See also</span>\r\n                    <ul>\r\n                        {\r\n                            similar.map( item => <li className=\"border border-info\" key={item.id}>{item.title}</li>)\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    };\r\n    \r\n    const showEditForm = () => {\r\n        return (\r\n            <form className=\"item-edit-form d-flex\" onSubmit={onSubmit}>\r\n                <input type=\"text\" \r\n                    className=\"form-control\"\r\n                    onChange={handleChange(\"title\")}\r\n                    placeholder=\"title\"\r\n                    value={values.title}\r\n                />\r\n                <input type=\"text\" \r\n                    className=\"form-control\"\r\n                    onChange={handleChange(\"description\")}\r\n                    placeholder=\"description\"\r\n                    value={values.description}\r\n                />\r\n                <button className=\"btn btn-outline-warning\">\r\n                    Edit\r\n                </button>\r\n            </form>\r\n        );\r\n    };\r\n\r\n    const onAnnouncementClick = () => {\r\n        setOpened(!opened);\r\n    };\r\n\r\n    const onEditClick = () => {\r\n        setEdit(!edit);\r\n        setValues({\r\n            title: announcement.title,\r\n            description: announcement.description\r\n        });\r\n    };\r\n\r\n    const handleChange = (prop) => (event) => {\r\n        setValues({ ...values, [prop]: event.target.value });\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        onEdited({\r\n            id: announcement.id,\r\n            title: values.title,\r\n            description: values.description,\r\n            date: announcement.date\r\n        });\r\n        \r\n        setEdit(!edit);\r\n        setValues({\r\n            title: '',\r\n            description: ''\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"announcement-details border border-info text-info\">\r\n            <div className=\"announcement-field title\">\r\n                <span onClick={onAnnouncementClick}>{announcement.title}</span>\r\n                <button type=\"button\"\r\n                    className=\"btn btn-outline-danger btn-sm float-right\"\r\n                    onClick={() => onDeleted(announcement.id)}>\r\n                    <i className=\"fa fa-trash-o\" />\r\n                </button>\r\n\r\n                <button type=\"button\"\r\n                    className=\"btn btn-outline-warning btn-sm float-right\"\r\n                    onClick={() => onEditClick()}>\r\n                    <i className=\"fa fa-pencil\"/>\r\n                </button>\r\n            </div>\r\n\r\n            {\r\n                opened ? showDetails() : null\r\n            }\r\n\r\n            {\r\n                edit ? showEditForm(): null\r\n            }\r\n            \r\n        </div>\r\n        \r\n    );\r\n};\r\n\r\nexport default AnnouncementDetails;","import SearchPanel from \"./search-panel\";\r\n\r\nexport default SearchPanel;","import React, { useState } from 'react';\r\n\r\nimport './search-panel.scss';\r\nconst SearchPanel = ({ onSearchChange }) => {\r\n    const[searchString, setSearchString] = useState('');\r\n\r\n    const handleChange = (e) => {\r\n        setSearchString(e.target.value);\r\n        onSearchChange(e.target.value);\r\n    };\r\n\r\n    return (\r\n        <div className=\"search-panel\">\r\n            <input type=\"text\"\r\n                className=\"form-control search-input\"\r\n                placeholder=\"type to search\"\r\n                value={searchString}\r\n                onChange={handleChange} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchPanel;","import AnnouncementAddForm from \"./announcement-add-form\";\r\n\r\nexport default AnnouncementAddForm;","import React, { useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport './announcement-add-form.scss';\r\n\r\nconst AnnouncementAddForm = ({ onAnnouncementAdded }) => {\r\n    const[values,setValues] = useState({\r\n        title: '',\r\n        description: ''\r\n    });\r\n\r\n    const handleChange = (prop) => (event) => {\r\n        setValues({ ...values, [prop]: event.target.value });\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        onAnnouncementAdded({\r\n            id: uuidv4(),\r\n            title: values.title,\r\n            description: values.description,\r\n            date: (new Date()).toUTCString()\r\n        });\r\n        \r\n        setValues({\r\n            title: '',\r\n            description: '',\r\n            date: ''\r\n        });\r\n    };\r\n\r\n    return(\r\n        <form className=\"item-add-form d-flex\" onSubmit={onSubmit}>\r\n            <input type=\"text\" \r\n                className=\"form-control\"\r\n                onChange={handleChange(\"title\")}\r\n                placeholder=\"title\"\r\n                value={values.title}\r\n            />\r\n            <input type=\"text\" \r\n                className=\"form-control\"\r\n                onChange={handleChange(\"description\")}\r\n                placeholder=\"description\"\r\n                value={values.description}\r\n            />\r\n            <button className=\"btn btn-outline-warning\">\r\n                Add\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default AnnouncementAddForm;","import AnnouncementList from './announcement-list';\r\n\r\nexport default AnnouncementList;","import React, { useState } from 'react';\r\n\r\nimport AnnouncementDetails from '../announcement-details';\r\nimport SearchPanel from '../search-panel';\r\nimport AnnouncementAddForm from '../announcement-add-form';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport './announcement-list.scss';\r\n\r\nconst AnnouncementList = () => {\r\n    const[values, setValues] = useState({\r\n        announcements: [\r\n            {\r\n                id: uuidv4(),\r\n                title: 'Some title',\r\n                description: 'Some description',\r\n                date: (new Date()).toUTCString(),\r\n            }\r\n        ],\r\n        searchString: ''\r\n    });\r\n\r\n    const onAnnouncementAdded = (announcement) =>{\r\n        setValues({ ...values, announcements: [ ...values.announcements, announcement ] });\r\n    };\r\n\r\n    const onAnnouncementDeleted = (id) =>{\r\n        const idx = values.announcements.findIndex((announcement) => announcement.id === id);\r\n\r\n        setValues({ ...values, announcements: [ \r\n            ...values.announcements.slice(0, idx),\r\n            ...values.announcements.slice(idx + 1),\r\n        ] });\r\n    };\r\n\r\n    const onAnnouncementEdited = (editedAnnouncement) =>{\r\n        const idx = values.announcements.findIndex((announcement) => announcement.id === editedAnnouncement.id);\r\n\r\n        setValues({ ...values, announcements: [ \r\n            ...values.announcements.slice(0, idx),\r\n            editedAnnouncement,\r\n            ...values.announcements.slice(idx + 1),\r\n        ] });\r\n    };\r\n\r\n    const onSearchChange = (newSearchString) => {\r\n        setValues({ ...values, searchString: newSearchString });\r\n    };\r\n\r\n    const search = () => {\r\n        const { announcements, searchString} = values;\r\n        return searchString !== '' ? announcements.filter((announcement) => announcement.title.toLowerCase().indexOf(searchString.toLowerCase()) + 1) : announcements;\r\n    };\r\n    \r\n    const visibleAnnouncements = search();\r\n\r\n    const getSimilar = (id) => {\r\n        const item = values.announcements.find(announcement => announcement.id === id);\r\n\r\n        const similar = values.announcements.filter(announcement => {\r\n            return item.title.split(\" \").some(w => announcement.title.split(\" \").some(ww => w === ww)) \r\n                && item.description.split(\" \").some(w => announcement.description.split(\" \").some(ww => w === ww))\r\n                && id !== announcement.id ? announcement : null\r\n        })\r\n        return similar.length > 3 ? [similar[0], similar[1], similar[2]] : similar\r\n    };\r\n    return (\r\n        <div className=\"main\">\r\n            <SearchPanel onSearchChange={onSearchChange}/>\r\n\r\n            <div className=\"announcement-list\">\r\n                {\r\n                    visibleAnnouncements.map( announcement => {\r\n                        return <AnnouncementDetails\r\n                            key={announcement.id}\r\n                            announcement={announcement} \r\n                            onDeleted={onAnnouncementDeleted}\r\n                            onEdited={onAnnouncementEdited}\r\n                            similar={getSimilar(announcement.id)}/>\r\n                    })\r\n                }\r\n            </div>\r\n            \r\n            <AnnouncementAddForm onAnnouncementAdded={onAnnouncementAdded}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AnnouncementList;","import React from 'react';\n\nimport AnnouncementList from './components/announcement-list';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <AnnouncementList />\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);"],"sourceRoot":""}